<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Tridy</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Tridy</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-Interpreter.html">Interpreter</a>.</span>Tridy<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Database class for interpreting Tridy commands/statements.

A Tridy database includes three parts: a tokenizer, parser, and composer.
Each may be stateful to varying degrees.

Interacting with this class is all done through the query() method, which automatically pipes the input through these separate components in order.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Tridy"><span class="type-signature"></span>new Tridy<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_tokenizer</code></td>
            

            <td class="type">
            
                
<span class="param-type">StatementParser</span>


            
            </td>

            

            

            <td class="description last">Extracts tokens from the input string, and manages statement-queuing.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_parser</code></td>
            

            <td class="type">
            
                
<span class="param-type">SyntaxParser</span>


            
            </td>

            

            

            <td class="description last">Processes tokens into an abstract syntax tree.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_composer</code></td>
            

            <td class="type">
            
                
<span class="param-type">Composer</span>


            
            </td>

            

            

            <td class="description last">Maintains and appends an object database using instructions received from the parser.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".objectify"><span class="type-signature">(static) </span>objectify<span class="signature">(input)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Converts the string output of stringify() back to a JSON (accounting for escaped backslashes).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Tridy JSON string output.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        Thrown if the input isn't valid JSON.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">SyntaxError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Input string as a JSON object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".stringify"><span class="type-signature">(static) </span>stringify<span class="signature">(input)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Converts the JSON output of query() or objectify() to a string (accounting for escaped backslashes).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Tridy JSON output.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.format</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Format to export the JSON output in. Options are 'xml', 'json', or 'yaml'. Default is 'json'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.pretty</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last">True to output the string with indentation (4-spaced), false to output in a compressed format. Default is false.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.spaces</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Indent increment size in spaces to output with. Requires pretty-printing be enabled specifically for JSON and XML output. Default is 2 for YAML and 4 for JSON and XML.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.xml_root_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The name given to the XML root tag. If used with @xml input, a root tag named this is also replaced with its contents. Relevant only when the output format is 'xml'. Default is 'root'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.xml_res_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The name given to the XML individual response tags. Relevant only when the output format is 'xml'. Default is 'tree'.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line221">line 221</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Input object as a formatted string.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="clearCarry"><span class="type-signature"></span>clearCarry<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Clears the input buffer, thereby removing any incomplete statements that are being carried.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line203">line 203</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getRandomSeed"><span class="type-signature"></span>getRandomSeed<span class="signature">()</span><span class="type-signature"> &rarr; {any}</span></h4>
    

    



<div class="description">
    Returns the database's current random seed.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The current random seed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">any</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isCarrying"><span class="type-signature"></span>isCarrying<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Returns true if this interpreter instance is carrying incomplete statements, false otherwise.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line193">line 193</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if carrying, false if not.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="query"><span class="type-signature">(async) </span>query<span class="signature">(input)</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>
    

    



<div class="description">
    Interprets a string containing one or more Tridy commands and outputs the results in a JSON object format.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Tridy command(s)/statement(s).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.tokenless</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last">Used for internal control flow where it's better to send a pre-processed abstract syntax tree directly as input. Default is false.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.accept_carry</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last">True to statefully retain tokens from incomplete statements, false to throw SyntaxError if receiving an incomplete statement. Default is false.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.client_mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last">True to run as a client, false to run standalone / as a server. Default is false.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.host</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Server to connect to (only applies if standalone is false). Default is localhost.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.port</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Port to connect to (only applies if standalone is false). Default is 21780.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Timeout period (in milliseconds) to wait for responses (only applies if standalone is false). Default is 3000.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.type_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The key used to classify modules when printing compressed output using @merged or @final. Default is 'type'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.tags_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The key under which tags are imported and exported as. Has no effect if client_mode is enabled. Default is 'tags'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.free_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The key under which the free data structure is imported and exported as. Has no effect if client_mode is enabled. Default is 'free'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts.tree_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The key under which the tree data structure is imported and exported as. Has no effect if client_mode is enabled. Default is 'tree'.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line110">line 110</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        Thrown if the input isn't valid Tridy code.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">SyntaxError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        Thrown if the server host (optional) sends back an error response.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">ClientSideServerError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    The output of the statement(s).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="setRandomSeed"><span class="type-signature"></span>setRandomSeed<span class="signature">(seed)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sets (or resets) the random seed used by the database.
If the same seed as the current one is passed, then only the nonce is reset.
Passing null or undefined causes a new seed to be generated randomly.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>seed</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last">Random seed to use with @random or @shuffled.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Interpreter.js.html">Interpreter.js</a>, <a href="Interpreter.js.html#line85">line 85</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Interpreter.html">Interpreter</a></li></ul><h3>Classes</h3><ul><li><a href="module-Interpreter.Tridy.html">Tridy</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Mon Jun 20 2022 02:05:11 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>